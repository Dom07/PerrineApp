@using PerrineApp.Services
<nav class="navbar navbar-expand-lg navbar-dark bg-dark justify-content-between">
    <a class="navbar-brand ms-3" href="#">PerrineBoyz</a>

    <div class="navbar-nav me-3">
        <AuthorizeView>
            <Authorized>
                <span class="navbar-text">
                    <a class="nav-link disabled">Welcome @context.User.Identity.Name</a>
                </span>
                    
                <span class="navbar-text ms-3">
                    <a class="nav-link" href="/" @onclick="async () => await LogOutAsync()">Logout</a>
                </span>
            </Authorized>
            <NotAuthorized>
                <a class="nav-item nav-link" href="/login">Login</a>
            </NotAuthorized>
        </AuthorizeView>
    </div>
</nav>

@code {
    [Inject]
    public AuthenticationStateProvider? AuthStateProvider { get; set; }

    [Inject]
    public NavigationManager? NavigationManager { get; set; }

    public async Task LogOutAsync() => await ((CustomAuthenticationStateProvider)AuthStateProvider).LogOutAsync();
}